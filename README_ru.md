# Rutracker API

Node.js API-–∫–ª–∏–µ–Ω—Ç –¥–ª—è rutracker.org —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SOCKS/HTTP –ø—Ä–æ–∫—Å–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ cookies.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –í—Ö–æ–¥ –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –≤ —Ñ–∞–π–ª
- üîç **–ü–æ–∏—Å–∫** - –ü–æ–∏—Å–∫ —Ä–∞–∑–¥–∞—á —Å –æ–ø—Ü–∏–µ–π —Å—Ç—Ä–æ–≥–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–∏—Å–∫–ª—é—á–∞–µ—Ç —Å–∏–∫–≤–µ–ª—ã)
- üì• **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ** - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ .torrent —Ñ–∞–π–ª–æ–≤
- üìã **–ü–æ–¥–ø–∏—Å–∫–∏** - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üåê **–ü—Ä–æ–∫—Å–∏** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP, SOCKS –ø—Ä–æ–∫—Å–∏
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏** - –ö—É–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install axios tough-cookie cheerio iconv-lite js-yaml https-proxy-agent socks-proxy-agent dotenv
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Rutracker
RUTRACKER_USER=–≤–∞—à_–ª–æ–≥–∏–Ω
RUTRACKER_PASS=–≤–∞—à_–ø–∞—Ä–æ–ª—å

# –ü—Ä–æ–∫—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: http://, socks://
PROXY_URL=socks://user:pass@proxy.host:port

# –ü–∞–ø–∫–∞ –¥–ª—è —Å–∫–∞—á–∞–Ω–Ω—ã—Ö —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤
TORRENT_DIR=./torrents
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI

```bash
# –ü–æ–∏—Å–∫ —Ä–∞–∑–¥–∞—á
node cli.js search 'matrix'

# –°—Ç—Ä–æ–≥–∏–π –ø–æ–∏—Å–∫ (–∏—Å–∫–ª—é—á–∞–µ—Ç —Å–∏–∫–≤–µ–ª—ã —Ç–∏–ø–∞ "–î—Ä–æ–∂—å –∑–µ–º–ª–∏ 2", "–î—Ä–æ–∂—å –∑–µ–º–ª–∏ 3")
node cli.js search '–î—Ä–æ–∂—å –∑–µ–º–ª–∏' -s

# –°–∫–∞—á–∞—Ç—å .torrent —Ñ–∞–π–ª
node cli.js download 'https://rutracker.org/forum/dl.php?t=123456'

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–µ—Å—Å–∏—é)
node cli.js login

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
node cli.js subscriptions
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

```javascript
const RutrackerApi = require("./rutracker-api");

const api = new RutrackerApi({
  proxy: "socks://user:pass@proxy.host:port", // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  cookieFile: "./cookies.json", // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
});

// –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
await api.login("–ª–æ–≥–∏–Ω", "–ø–∞—Ä–æ–ª—å");

// –ü–æ–∏—Å–∫
const results = await api.search("matrix");
console.log(results);
// [{ id, title, category, author, size, seeds, leechs, url, torrentUrl }, ...]

// –°–∫–∞—á–∏–≤–∞–Ω–∏–µ
const stream = await api.download("123456");
stream.pipe(fs.createWriteStream("torrent.torrent"));

// –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
const yaml = await api.getAvailableTrackers();
console.log(yaml);
```

## –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `torrents.yml`:

```yaml
searches:
  - query: matrix
    strict: false
    timestamp: "2026-02-16T22:00:00.000Z"
    total: 50
    trackers:
      - id: "123456"
        title: The Matrix (1999)
        category: HD Video
        author: uploader
        size: 4.5 GB
        seeds: 100
        leechs: 10
        url: https://rutracker.org/forum/viewtopic.php?t=123456
        torrent_url: https://rutracker.org/forum/dl.php?t=123456
```

## –°—Ç—Ä–æ–≥–∏–π –ø–æ–∏—Å–∫

–§–ª–∞–≥ `-s` –æ—Ç—Å–µ–∏–≤–∞–µ—Ç —Å–∏–∫–≤–µ–ª—ã –∏ —Å–ø–∏–Ω-–æ—Ñ—Ñ—ã:

| –ó–∞–ø—Ä–æ—Å        | –ë–µ–∑ `-s`                                 | –° `-s`                           |
| ------------- | ---------------------------------------- | -------------------------------- |
| `–î—Ä–æ–∂—å –∑–µ–º–ª–∏` | 50 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è —á–∞—Å—Ç–∏ 2,3,4,5,6) | 16 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª) |
| `Matrix`      | –í—Å–µ —Ñ–∏–ª—å–º—ã Matrix                        | –¢–æ–ª—å–∫–æ "The Matrix" (1999)       |

## –§–∞–π–ª—ã

| –§–∞–π–ª               | –û–ø–∏—Å–∞–Ω–∏–µ                                |
| ------------------ | --------------------------------------- |
| `rutracker-api.js` | –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å API                      |
| `cli.js`           | –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å                    |
| `cookies.json`     | –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∫—É–∫–∏ —Å–µ—Å—Å–∏–∏ (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è) |
| `torrents.yml`     | –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞ (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)          |

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "axios-cookiejar-support does not support for use with other http(s).Agent"

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `axios-cookiejar-support` —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏ –ø—Ä–æ–∫—Å–∏. –í –¥–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ cookies —á–µ—Ä–µ–∑ axios-–∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä—ã –≤–º–µ—Å—Ç–æ `axios-cookiejar-support`.

### –ö–∞–ø—á–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ

Rutracker –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–ø—á—É –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ:

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä —Å —Ç–æ–≥–æ –∂–µ IP
2. –†–µ—à–∏—Ç–µ –∫–∞–ø—á—É
3. –°–Ω–æ–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ API

### –ü—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ä–º–∞—Ç URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:

- SOCKS5: `socks://user:pass@host:port` –∏–ª–∏ `socks5://...`
- SOCKS4: `socks4://user:pass@host:port`
- HTTP: `http://user:pass@host:port`

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
